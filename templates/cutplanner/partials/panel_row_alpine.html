<tr class="hover group">
    <td x-show="settings.showLabels">
        <input type="text" x-model="panel.label" placeholder="..."
            class="input input-bordered input-sm w-full focus:input-primary">
    </td>

    <td>
        <input type="number" x-model.number="panel.length" step="0.1" class="input input-bordered input-sm w-full"
            @input="if (index === panels.length - 1) addPanel()" @change="validateNumber(panel, 'length')">
    </td>

    <td>
        <input type="number" x-model.number="panel.width" step="0.1" class="input input-bordered input-sm w-full"
            @input="if (index === panels.length - 1) addPanel()" @change="validateNumber(panel, 'width')">
    </td>

    <td>
        <input type="number" x-model.number="panel.quantity" class="input input-bordered input-sm w-20"
            @input="if (index === panels.length - 1) addPanel()"
            @change="if(!panel.quantity || panel.quantity < 1) panel.quantity = 1">
    </td>

    <td x-show="settings.showMaterials">
        <select :value="panel.material" class="select select-bordered select-sm w-full font-bold text-black"
            @change="handleMaterialChange(panel, $event)">
            <option value="">---</option>
            <template x-for="mat in Materials" :key="mat.id">
                <option :value="mat.id" x-text="mat.name"></option>
            </template>
            <option value="ADD_NEW" class="font-black text-primary italic">Add New Material</option>
        </select>
    </td>

    <td x-show="settings.showGrainDirection">
        <select x-model="panel.grain_direction" class="select select-bordered select-sm w-full">
            {% for value, label in grain_choices %}
            <option value="{{ value }}">{{ label }}</option>
            {% endfor %}
        </select>
    </td>

    <td x-show="settings.showEdgeBanding">
        <div class="flex items-center gap-2 w-full">
            <span class="text-xs font-bold text-black" x-text="getEdgeBandingCount(panel) + '/4'"></span>
            <button type="button"
                class="w-6 h-6 flex items-center justify-center bg-secondary text-secondary-content rounded shadow-sm hover:bg-secondary-focus transition-colors font-bold text-lg p-0"
                @click="currentPanel = panel; banding_modal.showModal()">
                +
            </button>
        </div>
    </td>

    <td class="text-right">
        <button type="button" class="btn btn-ghost btn-xs text-error font-bold" @click="removePanel(index)">
            DELETE ROW
        </button>
    </td>
</tr>